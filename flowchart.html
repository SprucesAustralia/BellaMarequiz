<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cleaner Onboarding Pinball Funnel</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      font-family: Arial, sans-serif;
      overflow: hidden; /* Hide scrollbars to see the full pinball effect */
    }

    /* Container for the entire funnel/flowchart */
    .funnel-container {
      position: relative;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(to bottom, #b2ebf2, #80deea);
      overflow: hidden;
    }

    /* The large "funnel" background shape */
    .funnel {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 600px;
      /* A fun “pinball machine” style shape could be done with an angled border or pseudo-element */
      height: 800px;
      background: linear-gradient(to bottom, rgba(255,255,255,0.3), rgba(255,255,255,0.1));
      border: 4px solid #00796b;
      border-radius: 40px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      overflow: hidden;
    }

    /* Flowchart stages inside the funnel. 
       We'll create "YES" path, "NO" path, etc. 
       Using absolute positioning to place them at different vertical positions. 
    */
    .stage {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 320px;
      height: 60px;
      background: rgba(255,255,255,0.8);
      border: 2px solid #ccc;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-size: 14px;
      color: #333;
      padding: 10px;
    }

    .stage1  { top:  50px; }
    .stage2  { top: 150px; }
    .stage3  { top: 250px; }
    .stage4  { top: 350px; }
    .stage5  { top: 450px; }
    .stage6  { top: 550px; }
    .stage7  { top: 650px; }

    /* “Rejected” side branch: place it slightly to the left */
    .stage-no {
      position: absolute;
      left: 20%;
      top: 300px;
      width: 200px;
      background: rgba(255,0,0,0.2);
      border-color: #f00;
      color: #f00;
      z-index: 2; /* On top, so it’s visible */
    }

    /* Final "Cleaner Referral" at the bottom center */
    .stage-referral {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      width: 240px;
      background: rgba(255,255,255,0.9);
      border-color: #00796b;
      color: #00796b;
    }

    /* The floating text for daily operation (optional, can place outside) */
    .daily-operation {
      position: absolute;
      right: 40px;
      top: 40px;
      width: 260px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 5px;
      padding: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .daily-operation h3 {
      margin-top: 0;
      font-size: 16px;
      color: #00796b;
    }
    .daily-operation ul {
      padding-left: 20px;
      margin: 0;
      font-size: 12px;
    }

    /* The ball */
    .ball {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 24px;
      height: 24px;
      background: #ff5252;
      border-radius: 50%;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      z-index: 10;
    }

  </style>
</head>
<body>

<div class="funnel-container">
  <!-- The funnel shape -->
  <div class="funnel"></div>

  <!-- Flowchart stages: YES path -->
  <div class="stage stage1">1. Traffic Sources (Indeed, Facebook, etc.)</div>
  <div class="stage stage2">2. Apply Using Interactive Form/Quiz</div>
  <div class="stage stage3">3. Complete 3 Online Courses</div>
  <div class="stage stage4">4. Book and Attend Interview</div>
  <div class="stage stage5">5. Access Information Page</div>
  <div class="stage stage6">6. Trial with Trainer (2 hrs, 1 room)</div>
  <div class="stage stage7">7. Start Working Independently</div>

  <!-- NO scenario / Rejected stage -->
  <div class="stage stage-no">REJECTED</div>

  <!-- Final at bottom -->
  <div class="stage stage-referral">Cleaner Referral!</div>

  <!-- The “pinball” ball -->
  <div class="ball"></div>

  <!-- Optional daily operation info (floating box) -->
  <div class="daily-operation">
    <h3>Daily Operation</h3>
    <ul>
      <li>Receive list of departures</li>
      <li>System allocates rooms (Tetrix method)</li>
      <li>Clean assigned rooms</li>
      <li>Submit checklist</li>
      <li>Invoicing: Pay cleaner &amp; bill hotel</li>
    </ul>
  </div>
</div>

<script>
/* 
   A simple “pinball-like” animation for the ball. 
   We’ll define an array of path steps (x, y) positions to simulate 
   the ball traveling down the funnel, sometimes branching to “NO,” 
   and at the bottom going right (to become a referral), then 
   bouncing back up to repeat the cycle.
*/
document.addEventListener('DOMContentLoaded', () => {
  const ball   = document.querySelector('.ball');
  const funnel = document.querySelector('.funnel');

  // Grab some coordinates from the actual DOM elements
  const stage1  = document.querySelector('.stage1');
  const stage2  = document.querySelector('.stage2');
  const stage3  = document.querySelector('.stage3');
  const stage4  = document.querySelector('.stage4');
  const stage5  = document.querySelector('.stage5');
  const stage6  = document.querySelector('.stage6');
  const stage7  = document.querySelector('.stage7');
  const stageNo = document.querySelector('.stage-no');
  const referral= document.querySelector('.stage-referral');

  // Helper to get center x,y of an element relative to the funnel container
  function getCenterPos(el) {
    const rectFunnel = funnel.getBoundingClientRect();
    const rectEl     = el.getBoundingClientRect();
    return {
      x: rectEl.left + rectEl.width / 2 - rectFunnel.left,
      y: rectEl.top  + rectEl.height / 2 - rectFunnel.top
    };
  }

  // Define the path for a "YES" scenario
  const pathYes = [
    getCenterPos(stage1),
    getCenterPos(stage2),
    getCenterPos(stage3),
    getCenterPos(stage4),
    getCenterPos(stage5),
    getCenterPos(stage6),
    getCenterPos(stage7),
    getCenterPos(referral), // bottom
  ];

  // Define the path for a "NO" scenario (Rejected)
  // We’ll assume it branches after stage 2 or 3 randomly
  const pathNo = [
    getCenterPos(stage2), 
    getCenterPos(stageNo), 
  ];

  // After hitting referral, we want the ball to 
  // bounce to the right, go up, and eventually reset to the top:
  // 1) Move to the right of screen
  // 2) Up near top
  // 3) Back into stage1 position
  // We'll define that path last.
  // We'll just pick some fancy offsets to mimic a bounce.
  const bounceUp = [
    {x: 600, y: 700},  // move to right
    {x: 500, y: 300},  // move up
    getCenterPos(stage1) // back to top center
  ];

  let stepIndex   = 0;
  let currentPath = []; 

  function animateBallToNextStep() {
    if (stepIndex >= currentPath.length) {
      // If we finished the current path, check if it was a normal path or the bounceUp path
      // If we were on the main funnel path, we now do the bounce to the right
      // If we were on the bounceUp path, we start over from stage1 again
      if (currentPath === pathYes) {
        // Done the funnel, so bounce to the right
        currentPath = bounceUp;
        stepIndex   = 0;
        moveBall();
      } else if (currentPath === pathNo) {
        // If we got rejected, reset after a short delay
        setTimeout(resetBall, 2000);
      } else if (currentPath === bounceUp) {
        // Completed bounce up, start over entirely
        resetBall();
      }
      return;
    }
    moveBall();
  }

  function moveBall() {
    const { x, y } = currentPath[stepIndex];
    // Animate the ball to (x, y) within the funnel
    ball.style.transition = 'transform 1s cubic-bezier(0.45, 1.6, 0.37, 0.91)'; // a bouncy curve
    ball.style.transform  = `translate(${x - 12}px, ${y - 12}px)`; // offset half the ball’s size
    stepIndex++;
  }

  // Listen for transition end to move to next step
  ball.addEventListener('transitionend', animateBallToNextStep);

  function startPinball() {
    stepIndex = 0;
    // Randomly decide if the path will branch to "NO" after stage2 or stage3
    // Let's say there's a 20% chance of NO
    const chanceNo = Math.random() < 0.20;
    if (chanceNo) {
      currentPath = pathNo;
    } else {
      currentPath = pathYes;
    }
    animateBallToNextStep();
  }

  function resetBall() {
    // Reset ball to top of funnel
    ball.style.transition = 'none';
    ball.style.transform  = `translate(-50%, -50%)`; 
    setTimeout(startPinball, 500);
  }

  // Start
  resetBall();
});
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cleaner Onboarding Funnel</title>
    <style>
        /* Embedded CSS */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #f5f5f5;
            margin: 0;
            flex-direction: column;
        }

        .funnel {
            position: relative;
            padding: 20px;
            background: linear-gradient(to bottom, #e0f7fa, #b2ebf2);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 500px;
            overflow: hidden;
        }

        .stage {
            height: 80px;
            margin: 20px auto;
            padding: 10px;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid #ccc;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 16px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }

        .stage:hover {
            transform: scale(1.05);
        }

        /* Funnel effect with decreasing widths */
        .stage1 { width: 400px; }
        .stage2 { width: 380px; }
        .stage3 { width: 360px; }
        .stage4 { width: 340px; }
        .stage5 { width: 320px; }
        .stage6 { width: 300px; }
        .stage7 { width: 280px; }

        .ball {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #ff5252;
            border-radius: 50%;
            left: 50%;
            transform: translateX(-50%);
            top: 0;
            transition: top 1s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Bouncing effect */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .daily {
            margin-top: 20px;
            padding: 15px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            width: 400px;
            text-align: left;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .daily h3 {
            margin: 0 0 10px;
            color: #00796b;
        }

        .daily ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .daily li {
            margin: 5px 0;
            font-size: 14px;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="funnel">
        <div class="stage stage1">Traffic Sources: Indeed, Facebook, Airtasker, Existing Database</div>
        <div class="stage stage2">Apply using Interactive Form/Quiz</div>
        <div class="stage stage3">Complete 3 Online Courses</div>
        <div class="stage stage4">Book and Attend Interview</div>
        <div class="stage stage5">Access Information Page</div>
        <div class="stage stage6">Trial with Trainer (2 hours, 1 room)</div>
        <div class="stage stage7">Start Working Independently</div>
        <div class="ball"></div>
    </div>
    <div class="daily">
        <h3>Daily Operation</h3>
        <ul>
            <li>Receive list of departures</li>
            <li>System allocates rooms using Tetrix method</li>
            <li>Work on assigned rooms</li>
            <li>Submit checklist</li>
            <li>Invoicing: Pay cleaner & bill hotel</li>
        </ul>
    </div>
    <script>
        // Embedded JavaScript
        document.addEventListener('DOMContentLoaded', () => {
            const stages = document.querySelectorAll('.stage');
            const ball = document.querySelector('.ball');
            let delay = 0;

            stages.forEach((stage) => {
                const center = stage.offsetTop + stage.offsetHeight / 2;
                setTimeout(() => {
                    ball.style.top = `${center}px`;
                }, delay);
                delay += 1500; // Move every 1.5 seconds
            });
        });
    </script>
</body>
</html>
